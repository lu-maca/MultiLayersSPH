clc
clear
close all

tempi =[0:10:1000];%
t = -0.1;
j=0;
conta = 0
for i = tempi
  t= t+0.001*100

  filename = strcat("file",int2str(i),".dat")

  tab = dlmread(filename);
  x = tab(:,1);
  h = tab(:,2);
  conta = conta+1;
  l = 1/length(x);
  I=0;
  for i =1:length(x)-1
    I=I+l*0.5*(h(i)+h(i+1));
  endfor
  somma(conta)=I;
%  plot((x-0.44)/0.44,h/0.055)%,'.','MarkerSize',15)
%plot(x/0.317-1,h/0.06)
plot(x,h)
  ylim([0 1.6])

  pause(0.01)

  % clear h1
  % x1 = x-0.11;
  % h0 = 0.055%max(tab(:,2));
  % c = sqrt(9.8*h0);
  % for i=1:length(x1)
  %   if x1(i) <= -c*t
  %     h1(i) = h0;
  %   elseif x1(i)>-c*t && x1(i)<=2*c*t;
  %     h1(i) =  h0/9*( 2 - x1(i)/(c*t))^2;
  %   elseif x1(i)>2*c*t
  %     h1(i) = 0;
  %   endif
  % endfor

  disp(t)

  % hold on
  % lx1=length(x1), lh1=length(h1)
  % plot(x1+0.11,h1,'Linewidth',2)
  % %plot(x,0.05*x-0.5*0.05,'Linewidth',2)
  % str = sprintf("time = %s", num2str(t))
  % title(str)
  % hold off

  %figure

endfor
% grid minor
%
%   x=[0.25416666666666665
%   0.2333333333333334
%   0.19166666666666665
%   0.1499999999999999
%   0.08333333333333326
%   0
%   -0.1499999999999999
%   -0.2416666666666667
%   -0.2416666666666667
%   -0.3208333333333332
%   -0.4
%   -0.48749999999999993
%   -0.5458333333333333
%   -0.6125
%   -0.6791666666666666
%   -0.7791666666666666
%   -0.8624999999999999
%   -0.9166666666666666
%   -0.9791666666666666];
%   y = [0.4
%   0.44285714285714284
%   0.49183673469387756
%   0.5326530612244897
%   0.5795918367346938
%   0.6591836734693877
%   0.7489795918367346
%   0.7877551020408162
%   0.7877551020408162
%   0.8183673469387754
%   0.8387755102040816
%   0.8653061224489795
%   0.8816326530612244
%   0.889795918367347
%   0.8959183673469387
%   0.9020408163265305
%   0.9081632653061225
%   0.9122448979591836
%   0.9183673469387754];
%   plot(x,y,'s')
%   plot(x,y,'s')
%   plot(x,y,'s')
%
%   x=[-0.9833333333333333
%   -0.9458333333333333
%   -0.8916666666666666
%   -0.8416666666666666
%   -0.7791666666666666
%   -0.6791666666666666
%   -0.6208333333333332
%   -0.5625
%   -0.5083333333333333
%   -0.44166666666666665
%   -0.3666666666666667
%   -0.3125
%   -0.2416666666666667
%   -0.125
%   -0.06666666666666665
%   0
%   0.07083333333333353
%   0.13333333333333353
%   0.22083333333333344
%   0.3041666666666665
%   0.3666666666666667
%   0.43333333333333357
%   0.5250000000000001
%   0.5708333333333333
%   0.6083333333333334
%   0.6708333333333334];
%
%   y =[0.6918367346938775
%   0.6918367346938775
%   0.6918367346938775
%   0.6918367346938775
%   0.6918367346938775
%   0.6918367346938775
%   0.6897959183673469
%   0.6836734693877551
%   0.6795918367346938
%   0.6755102040816325
%   0.6673469387755102
%   0.6571428571428571
%   0.6489795918367347
%   0.6306122448979592
%   0.6204081632653061
%   0.6122448979591836
%   0.5938775510204082
%   0.5755102040816326
%   0.5408163265306122
%   0.5122448979591836
%   0.48367346938775513
%   0.4163265306122448
%   0.3571428571428571
%   0.31836734693877544
%   0.23469387755102034
%   0.006122448979591688];
%   plot(x,y,'s')
%   plot(x,y,'s')
%   plot(x,y,'s')
%
%   x= [-0.9791666666666666
% -0.9208333333333333
% -0.8666666666666667
% -0.8208333333333333
% -0.7666666666666666
% -0.7124999999999999
% -0.6458333333333334
% -0.5916666666666667
% -0.5125
% -0.44999999999999984
% -0.3749999999999999
% -0.3291666666666666
% -0.26249999999999996
% -0.2041666666666666
% -0.125
% -0.012499999999999956
% 0.054166666666666696
% 0.125
% 0.18333333333333335
% 0.24583333333333335
% 0.33750000000000013
% 0.40000000000000013
% 0.48750000000000004
% 0.55
% 0.6166666666666667
% 0.6958333333333335
% 0.7749999999999997
% 0.8458333333333334
% 0.9208333333333332
% 1.0166666666666668
% 1.1125
% 1.1625000000000003];
%
% y = [0.5551020408163265
% 0.5551020408163265
% 0.5551020408163265
% 0.5469387755102041
% 0.5510204081632653
% 0.5571428571428572
% 0.5591836734693877
% 0.5571428571428572
% 0.5551020408163265
% 0.5510204081632653
% 0.5387755102040815
% 0.5387755102040815
% 0.5306122448979591
% 0.5285714285714285
% 0.5346938775510204
% 0.5244897959183673
% 0.510204081632653
% 0.4999999999999999
% 0.4897959183673468
% 0.4816326530612245
% 0.47346938775510206
% 0.4653061224489795
% 0.4530612244897959
% 0.44489795918367336
% 0.42653061224489786
% 0.4061224489795917
% 0.37755102040816324
% 0.34897959183673466
% 0.30816326530612237
% 0.24285714285714277
% 0.16530612244897946
% 0.0020408163265306367];
%
% % plot(x,y,'s')
% % plot(x,y,'s')
% % plot(x,y,'s')
